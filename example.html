<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Kahoot!-Style Quiz App</title>
    <style>
      /* Basic styling */
      body {
        font-family: Arial, sans-serif;
        background: linear-gradient(to bottom right, #0066ff, #33ccff);
        margin: 0;
        padding: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
      }
      .container {
        background: #fff;
        border-radius: 10px;
        padding: 20px;
        max-width: 600px;
        width: 90%;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        text-align: center;
      }
      .hidden {
        display: none;
      }
      h1 {
        margin-bottom: 20px;
      }
      input[type='text'] {
        width: 100%;
        padding: 10px;
        font-size: 1em;
        margin: 10px 0;
        border: 1px solid #ccc;
        border-radius: 5px;
      }
      button {
        background: #0066ff;
        color: #fff;
        border: none;
        padding: 10px 20px;
        border-radius: 5px;
        font-size: 1em;
        cursor: pointer;
        transition: background 0.3s;
      }
      button:hover {
        background: #0052cc;
      }
      .question {
        font-size: 1.5em;
        margin: 20px 0;
      }
      .options {
        list-style: none;
        padding: 0;
      }
      .options li {
        margin: 10px 0;
      }
      .option {
        width: 100%;
        padding: 10px;
        font-size: 1em;
        border: none;
        border-radius: 5px;
        background: #f2f2f2;
        cursor: pointer;
        transition: background 0.3s;
      }
      .option:hover {
        background: #e0e0e0;
      }
      .timer {
        font-size: 1.2em;
        text-align: right;
      }
      .score {
        font-size: 1.2em;
        margin-top: 20px;
      }
    </style>
  </head>
  <body>
    <!-- Lobby Screen -->
    <div class="container" id="lobby-screen">
      <h1>Welcome to Quiz Show!</h1>
      <input type="text" id="nickname" placeholder="Enter your nickname" />
      <button id="start-btn">Join Game</button>
    </div>
    <!-- Quiz Screen -->
    <div class="container hidden" id="quiz-screen">
      <div class="timer" id="timer">Time: 10</div>
      <div class="question" id="question-text">Question text</div>
      <ul class="options" id="options-list">
        <!-- Options will be dynamically inserted -->
      </ul>
      <button class="hidden" id="next-btn">Next</button>
      <div class="score" id="score-display">Score: 0</div>
    </div>
    <!-- Results Screen -->
    <div class="container hidden" id="result-screen">
      <h1>Quiz Completed!</h1>
      <p id="final-score">Your final score: 0</p>
      <button id="restart-btn">Play Again</button>
    </div>
    <script>
      // Get references to DOM elements
      const lobbyScreen = document.getElementById('lobby-screen');
      const quizScreen = document.getElementById('quiz-screen');
      const resultScreen = document.getElementById('result-screen');
      const startBtn = document.getElementById('start-btn');
      const nextBtn = document.getElementById('next-btn');
      const restartBtn = document.getElementById('restart-btn');
      const questionText = document.getElementById('question-text');
      const optionsList = document.getElementById('options-list');
      const scoreDisplay = document.getElementById('score-display');
      const timerDisplay = document.getElementById('timer');
      const finalScoreDisplay = document.getElementById('final-score');
      // Sample questions (you can add more)
      const questions = [
        {
          question: 'What is the capital of France?',
          options: ['Paris', 'London', 'Berlin', 'Madrid'],
          answer: 0,
        },
        {
          question: 'Which planet is known as the Red Planet?',
          options: ['Earth', 'Mars', 'Jupiter', 'Saturn'],
          answer: 1,
        },
        {
          question: "Who wrote 'Hamlet'?",
          options: [
            'Charles Dickens',
            'William Shakespeare',
            'Mark Twain',
            'Leo Tolstoy',
          ],
          answer: 1,
        },
      ];
      let currentQuestionIndex = 0;
      let score = 0;
      let timerInterval;
      let timeLeft = 10;
      let answered = false;
      // Start the quiz when the user clicks "Join Game"
      function startQuiz() {
        // Optionally, you can capture and use the nickname from the input
        const nickname = document.getElementById('nickname').value || 'Player';
        console.log('Nickname:', nickname);
        lobbyScreen.classList.add('hidden');
        quizScreen.classList.remove('hidden');
        currentQuestionIndex = 0;
        score = 0;
        scoreDisplay.textContent = 'Score: ' + score;
        showQuestion();
      }
      // Display the current question and options
      function showQuestion() {
        answered = false;
        nextBtn.classList.add('hidden');
        timeLeft = 10;
        timerDisplay.textContent = 'Time: ' + timeLeft;
        // Clear any previous timer
        clearInterval(timerInterval);
        timerInterval = setInterval(() => {
          timeLeft--;
          timerDisplay.textContent = 'Time: ' + timeLeft;
          if (timeLeft <= 0) {
            clearInterval(timerInterval);
            // If the user hasn't answered, disable options and show "Next"
            if (!answered) {
              disableOptions();
              nextBtn.classList.remove('hidden');
            }
          }
        }, 1000);
        const currentQuestion = questions[currentQuestionIndex];
        questionText.textContent = currentQuestion.question;
        optionsList.innerHTML = '';
        currentQuestion.options.forEach((option, index) => {
          const li = document.createElement('li');
          const button = document.createElement('button');
          button.textContent = option;
          button.className = 'option';
          button.addEventListener('click', () => selectOption(index));
          li.appendChild(button);
          optionsList.appendChild(li);
        });
      } // Handle option selection
      function selectOption(selectedIndex) {
        if (answered) return;
        answered = true;
        clearInterval(timerInterval);
        const currentQuestion = questions[currentQuestionIndex];
        // Loop through options to highlight correct/incorrect choices
        Array.from(optionsList.children).forEach((li, index) => {
          const btn = li.querySelector('button');
          // Highlight correct answer in green
          if (index === currentQuestion.answer) {
            btn.style.backgroundColor = '#4CAF50';
          }
          // If user selected the wrong answer, mark it in red
          if (
            index === selectedIndex &&
            selectedIndex !== currentQuestion.answer
          ) {
            btn.style.backgroundColor = '#F44336';
          }
          btn.disabled = true;
        });
        // Increase score if the answer is correct
        if (selectedIndex === currentQuestion.answer) {
          score += 10;
          scoreDisplay.textContent = 'Score: ' + score;
        }
        nextBtn.classList.remove('hidden');
      } // Disable options if time runs out
      function disableOptions() {
        Array.from(optionsList.children).forEach((li) => {
          const btn = li.querySelector('button');
          btn.disabled = true;
          const currentQuestion = questions[currentQuestionIndex];
          // Highlight the correct option
          if (
            btn.textContent === currentQuestion.options[currentQuestion.answer]
          ) {
            btn.style.backgroundColor = '#4CAF50';
          }
        });
      } // Move to the next question or end the quiz
      function nextQuestion() {
        currentQuestionIndex++;
        if (currentQuestionIndex < questions.length) {
          showQuestion();
        } else {
          endQuiz();
        }
      } // Display the final score and show the results screen
      function endQuiz() {
        quizScreen.classList.add('hidden');
        resultScreen.classList.remove('hidden');
        finalScoreDisplay.textContent = 'Your final score: ' + score;
      }
      // Event listeners for buttons
      startBtn.addEventListener('click', startQuiz);
      nextBtn.addEventListener('click', nextQuestion);
      restartBtn.addEventListener('click', () => {
        resultScreen.classList.add('hidden');
        lobbyScreen.classList.remove('hidden');
      });
    </script>
  </body>
</html>
